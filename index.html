<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emerging Markets Dashboard</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Embedded country data
        const countryMetrics = {};
        
        // Country organization by continent
        const countryData = {
          'Africa': {
            'AGO': 'Angola',
            'CIV': 'Côte d\'Ivoire',
            'EGY': 'Egypt',
            'GHA': 'Ghana',
            'KEN': 'Kenya',
            'MAR': 'Morocco',
            'NGA': 'Nigeria',
            'ZAF': 'South Africa'
          },
          'Americas': {
            'ARG': 'Argentina',
            'BRA': 'Brazil',
            'CHL': 'Chile',
            'COL': 'Colombia',
            'CRI': 'Costa Rica',
            'DOM': 'Dominican Republic',
            'ECU': 'Ecuador',
            'GTM': 'Guatemala',
            'JAM': 'Jamaica',
            'MEX': 'Mexico',
            'PAN': 'Panama',
            'PER': 'Peru',
            'URY': 'Uruguay'
          },
          'Asia': {
            'BHR': 'Bahrain',
            'CHN': 'China',
            'JOR': 'Jordan',
            'KAZ': 'Kazakhstan',
            'MYS': 'Malaysia',
            'OMN': 'Oman',
            'PAK': 'Pakistan',
            'PHL': 'Philippines',
            'SAU': 'Saudi Arabia',
            'LKA': 'Sri Lanka',
            'ARE': 'United Arab Emirates'
          },
          'Europe': {
            'BGR': 'Bulgaria',
            'HUN': 'Hungary',
            'LVA': 'Latvia',
            'POL': 'Poland',
            'ROU': 'Romania',
            'SRB': 'Serbia',
            'TUR': 'Turkey',
            'UKR': 'Ukraine'
          }
        };

        const TrendingUp = () => (
            <svg className="inline w-4 h-4 text-green-600 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
            </svg>
        );

        const TrendingDown = () => (
            <svg className="inline w-4 h-4 text-red-600 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6" />
            </svg>
        );

        const Globe = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const CountryCard = ({ countryCode, countryName, metrics }) => {
          if (!metrics) {
            return (
              <div className="bg-white rounded-lg shadow-lg p-8 max-w-4xl mx-auto">
                <div className="text-center text-gray-500">
                  <p>Data not available for {countryName} ({countryCode})</p>
                </div>
              </div>
            );
          }

          const getChangeIndicator = (current, previous) => {
            if (!current || !previous) return null;
            const change = current - previous;
            if (Math.abs(change) < 0.1) return null;
            return change > 0 ? <TrendingUp /> : <TrendingDown />;
          };

          const MetricRow = ({ label, data }) => (
            <div className="grid grid-cols-4 gap-4 py-3 border-b border-gray-100 hover:bg-gray-50">
              <div className="col-span-1 font-medium text-gray-700 text-sm">{label}</div>
              <div className="text-right font-semibold text-blue-900">
                {data['2025']?.toFixed(1) ?? 'N/A'}
                {getChangeIndicator(data['2025'], data['2019'])}
              </div>
              <div className="text-right text-gray-600">{data['10yr_Median']?.toFixed(1) ?? 'N/A'}</div>
              <div className="text-right text-gray-600">{data['2019']?.toFixed(1) ?? 'N/A'}</div>
            </div>
          );

          return (
            <div className="bg-gradient-to-br from-blue-50 to-white rounded-xl shadow-2xl p-8 max-w-4xl mx-auto">
              <div className="mb-6 pb-4 border-b-2 border-blue-200">
                <div className="flex items-center justify-between">
                  <div>
                    <h2 className="text-3xl font-bold text-gray-800">{countryName}</h2>
                    <p className="text-gray-600 text-lg">{countryCode}</p>
                  </div>
                  <Globe className="w-16 h-16 text-blue-600" />
                </div>
              </div>

              <div className="grid grid-cols-4 gap-4 mb-2 pb-2 border-b-2 border-gray-300">
                <div className="col-span-1 font-bold text-gray-700">Indicator</div>
                <div className="text-right font-bold text-blue-900">2025</div>
                <div className="text-right font-bold text-gray-700">10yr Median</div>
                <div className="text-right font-bold text-gray-700">2019</div>
              </div>

              <div className="space-y-0">
                {Object.entries(metrics).map(([key, value]) => (
                  <MetricRow key={key} label={key} data={value} />
                ))}
              </div>

              <div className="mt-6 pt-4 border-t border-gray-200 text-center text-sm text-gray-500">
                Source: IMF World Economic Outlook Database
              </div>
            </div>
          );
        };

        const App = () => {
          const [selectedCountry, setSelectedCountry] = useState(null);
          const [selectedContinent, setSelectedContinent] = useState('All');

          const handleCountryClick = (code, name) => {
            setSelectedCountry({ code, name });
          };

          const handleBack = () => {
            setSelectedCountry(null);
          };

          const continents = ['All', ...Object.keys(countryData)];

          const getFilteredCountries = () => {
            if (selectedContinent === 'All') {
              return Object.entries(countryData).flatMap(([continent, countries]) =>
                Object.entries(countries).map(([code, name]) => ({ code, name, continent }))
              );
            }
            return Object.entries(countryData[selectedContinent] || {}).map(([code, name]) => ({
              code,
              name,
              continent: selectedContinent
            }));
          };

          if (selectedCountry) {
            return (
              <div className="min-h-screen bg-gradient-to-br from-gray-100 to-blue-50 p-8">
                <button
                  onClick={handleBack}
                  className="mb-6 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
                >
                  ← Back to Countries
                </button>
                <CountryCard
                  countryCode={selectedCountry.code}
                  countryName={selectedCountry.name}
                  metrics={countryMetrics[selectedCountry.code]}
                />
              </div>
            );
          }

          return (
            <div className="min-h-screen bg-gradient-to-br from-gray-100 to-blue-50 p-8">
              <div className="max-w-7xl mx-auto">
                <div className="text-center mb-8">
                  <h1 className="text-4xl font-bold text-gray-800 mb-2">Emerging Markets Dashboard</h1>
                  <p className="text-gray-600">Select a country to view economic indicators</p>
                </div>

                <div className="flex justify-center gap-2 mb-8 flex-wrap">
                  {continents.map(continent => (
                    <button
                      key={continent}
                      onClick={() => setSelectedContinent(continent)}
                      className={`px-4 py-2 rounded-lg font-medium transition ${
                        selectedContinent === continent
                          ? 'bg-blue-600 text-white'
                          : 'bg-white text-gray-700 hover:bg-blue-100'
                      }`}
                    >
                      {continent}
                    </button>
                  ))}
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                  {getFilteredCountries().map(({ code, name, continent }) => (
                    <button
                      key={code}
                      onClick={() => handleCountryClick(code, name)}
                      className="bg-white rounded-lg shadow hover:shadow-xl transition p-6 text-left group"
                    >
                      <div className="flex justify-between items-start mb-2">
                        <div>
                          <h3 className="font-bold text-lg text-gray-800 group-hover:text-blue-600 transition">
                            {name}
                          </h3>
                          <p className="text-sm text-gray-500">{code}</p>
                        </div>
                        <Globe className="w-6 h-6 text-blue-400" />
                      </div>
                      <p className="text-xs text-gray-400 mt-2">{continent}</p>
                    </button>
                  ))}
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>